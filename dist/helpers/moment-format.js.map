{"version":3,"file":"moment-format.js","sources":["../../src/helpers/moment-format.js"],"sourcesContent":["import { isEmpty } from '@ember/utils';\nimport { get, observer } from '@ember/object';\n\nimport computeFn from '../utils/helper-compute.js';\nimport BaseHelper from './-base.js';\n\nexport default BaseHelper.extend({\n  // eslint-disable-next-line ember/no-observers\n  defaultFormatDidChange: observer('moment.defaultFormat', function () {\n    this.recompute();\n  }),\n\n  compute: computeFn(function (params, { locale, timeZone }) {\n    this._super(...arguments);\n    const moment = this.moment;\n    const { length } = params;\n\n    if (length > 3) {\n      throw new TypeError(\n        'ember-moment: Invalid number of arguments, expected at most 3',\n      );\n    }\n\n    const args = [];\n    const formatArgs = [];\n    // eslint-disable-next-line ember/no-get\n    const defaultFormat = get(this, 'moment.defaultFormat');\n\n    args.push(params[0]);\n\n    if (length === 1 && !isEmpty(defaultFormat)) {\n      formatArgs.push(defaultFormat);\n    } else if (length === 2) {\n      formatArgs.push(params[1]);\n    } else if (length > 2) {\n      args.push(params[2]);\n      formatArgs.push(params[1]);\n    }\n\n    return this.morphMoment(moment.moment(...args), {\n      locale,\n      timeZone,\n    }).format(...formatArgs);\n  }),\n});\n"],"names":["BaseHelper","extend","defaultFormatDidChange","observer","recompute","compute","computeFn","params","locale","timeZone","_super","arguments","moment","length","TypeError","args","formatArgs","defaultFormat","get","push","isEmpty","morphMoment","format"],"mappings":";;;;;AAMA,mBAAeA,UAAU,CAACC,MAAM,CAAC;AAC/B;AACAC,EAAAA,sBAAsB,EAAEC,QAAQ,CAAC,sBAAsB,EAAE,YAAY;IACnE,IAAI,CAACC,SAAS,EAAE,CAAA;AAClB,GAAC,CAAC;AAEFC,EAAAA,OAAO,EAAEC,SAAS,CAAC,UAAUC,MAAM,EAAE;IAAEC,MAAM;AAAEC,IAAAA,QAAAA;AAAS,GAAC,EAAE;AACzD,IAAA,IAAI,CAACC,MAAM,CAAC,GAAGC,SAAS,CAAC,CAAA;AACzB,IAAA,MAAMC,MAAM,GAAG,IAAI,CAACA,MAAM,CAAA;IAC1B,MAAM;AAAEC,MAAAA,MAAAA;AAAO,KAAC,GAAGN,MAAM,CAAA;IAEzB,IAAIM,MAAM,GAAG,CAAC,EAAE;AACd,MAAA,MAAM,IAAIC,SAAS,CACjB,+DACF,CAAC,CAAA;AACH,KAAA;IAEA,MAAMC,IAAI,GAAG,EAAE,CAAA;IACf,MAAMC,UAAU,GAAG,EAAE,CAAA;AACrB;AACA,IAAA,MAAMC,aAAa,GAAGC,GAAG,CAAC,IAAI,EAAE,sBAAsB,CAAC,CAAA;AAEvDH,IAAAA,IAAI,CAACI,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;IAEpB,IAAIM,MAAM,KAAK,CAAC,IAAI,CAACO,OAAO,CAACH,aAAa,CAAC,EAAE;AAC3CD,MAAAA,UAAU,CAACG,IAAI,CAACF,aAAa,CAAC,CAAA;AAChC,KAAC,MAAM,IAAIJ,MAAM,KAAK,CAAC,EAAE;AACvBG,MAAAA,UAAU,CAACG,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AAC5B,KAAC,MAAM,IAAIM,MAAM,GAAG,CAAC,EAAE;AACrBE,MAAAA,IAAI,CAACI,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AACpBS,MAAAA,UAAU,CAACG,IAAI,CAACZ,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AAC5B,KAAA;IAEA,OAAO,IAAI,CAACc,WAAW,CAACT,MAAM,CAACA,MAAM,CAAC,GAAGG,IAAI,CAAC,EAAE;MAC9CP,MAAM;AACNC,MAAAA,QAAAA;AACF,KAAC,CAAC,CAACa,MAAM,CAAC,GAAGN,UAAU,CAAC,CAAA;GACzB,CAAA;AACH,CAAC,CAAC;;;;"}